<ng-container *ngIf="camp | async; let $camp; else loadingCamps">

    <h1 class="mat-h1">Bearbeite dein Lager: {{$camp.name}}</h1>

    <!-- Allgemeine Informationen zum Lager -->
    <form [formGroup]='campInfosForm'>
        <mat-form-field class="full-width">
            <input matInput placeholder="Name" formControlName="name" #name maxlength="32" autocomplete="off">
            <mat-hint align="end">{{name.value.length}} / 32</mat-hint>
        </mat-form-field>

        <mat-form-field class="full-width">
            <textarea id="descriptionField" matInput placeholder="Beschreibnung"
                formControlName="description"></textarea>
        </mat-form-field>

        <mat-form-field class="full-width">
            <input matInput placeholder="Anzahl Teilnehmende" formControlName="participants">
        </mat-form-field>

        <p> Verknüpfe dein Lager mit der Cevi.DB, so bleibt die Teilnehmeranzahl stehts aktuell. </p>
    </form>
    <button mat-raised-button [disabled]="!campInfosForm.touched" (click)='saveCampInfo($camp)'>Änderungen
        Speichern</button>


    <!-- Export section -->
    <mat-divider></mat-divider>
    <h3>Exportieren</h3>
    <p>Exportiere und drucke dein Lager.</p>
    <button mat-raised-button routerLink="export">PDF Druckansicht</button>

    <!-- Week Overview -->
    <mat-divider></mat-divider>
    <app-week-view [camp]="$camp"></app-week-view>

    <!-- Zusammenarbeit -->
    <mat-divider></mat-divider>
    <h3>Mitarbeiter</h3>
    <p>Gib dein Lager anderen Nutzern frei.</p>
    <button mat-raised-button [disabled]="true">Nutzer einladen.</button>
    <br />
    <br />
    <p>Öffentliche Lager können von allen angemeldeten Nutzern als Vorlage verwendet werden.</p>
    <button mat-raised-button [disabled]="true">Veröffentlichen</button>

</ng-container>


<!-- Loading Animation -->
<ng-template #loadingCamps>
    <h1 class="mat-h1">Daten werden geladen...</h1>
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
</ng-template>