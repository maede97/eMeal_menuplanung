<ng-container *ngIf="meal | async; let $meal; else loadingMeal">

    <h1 class="mat-h1">Bearbeite die Mahlzeit: {{$meal.title}}</h1>

    <p>Klicke auf eines der Rezpete, um es zu bearbeiten.</p>

    <mat-accordion>

        <!-- for each recipe -->
        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Spätzli
                </mat-panel-title>
                <mat-panel-description>
                    Selbst gemachte Spätzli
                </mat-panel-description>
            </mat-expansion-panel-header>

            <!-- for each ingredient ... -->
            <ng-container>

                <!-- for each ingredient ... -->
                <table mat-table [dataSource]=" dataSource">

                    <!--- Note that these columns can be defined in any order.
                              The actual rendered columns are set as a property on the row definition" -->

                    <!-- Position Column -->
                    <ng-container matColumnDef="position">
                        <th mat-header-cell *matHeaderCellDef style="width: 10%"> 1 Per. </th>
                        <td mat-cell *matCellDef="let element"> {{element.measure}} </td>
                    </ng-container>

                    <!-- Name Column -->
                    <ng-container matColumnDef="name">
                        <th mat-header-cell *matHeaderCellDef style="width: 10%"> 10 Per. </th>
                        <td mat-cell *matCellDef="let element"> {{10* element.measure}} </td>
                    </ng-container>

                    <!-- Weight Column -->
                    <ng-container matColumnDef="weight">
                        <th mat-header-cell *matHeaderCellDef style="width: 30%"> Einheit </th>
                        <td mat-cell *matCellDef="let element"> {{element.unit}} </td>
                    </ng-container>

                    <!-- Symbol Column -->
                    <ng-container matColumnDef="symbol">
                        <th mat-header-cell *matHeaderCellDef> Lebensmittel </th>
                        <td mat-cell *matCellDef="let element"> {{element.food}} </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>

                <h4>Notizen zum Rezept:</h4>
                <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut
                    labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores
                    et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
                    Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut
                    labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores
                    et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>

            </ng-container>

            <mat-action-row>
                <button mat-button>Änderungen am Rezept speichern</button>
            </mat-action-row>

        </mat-expansion-panel>

        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Salat
                </mat-panel-title>
                <mat-panel-description>
                    Maissalat
                </mat-panel-description>
            </mat-expansion-panel-header>

            <!-- for each ingredient ... -->
            <ng-container>

                <!-- for each ingredient ... -->
                <table mat-table [dataSource]=" dataSource">

                    <!--- Note that these columns can be defined in any order.
                                  The actual rendered columns are set as a property on the row definition" -->

                    <!-- Position Column -->
                    <ng-container matColumnDef="position">
                        <th mat-header-cell *matHeaderCellDef style="width: 10%"> 1 Per. </th>
                        <td mat-cell *matCellDef="let element"> {{element.measure}} </td>
                    </ng-container>

                    <!-- Name Column -->
                    <ng-container matColumnDef="name">
                        <th mat-header-cell *matHeaderCellDef style="width: 10%"> 10 Per. </th>
                        <td mat-cell *matCellDef="let element"> {{10* element.measure}} </td>
                    </ng-container>

                    <!-- Weight Column -->
                    <ng-container matColumnDef="weight">
                        <th mat-header-cell *matHeaderCellDef style="width: 30%"> Einheit </th>
                        <td mat-cell *matCellDef="let element"> {{element.unit}} </td>
                    </ng-container>

                    <!-- Symbol Column -->
                    <ng-container matColumnDef="symbol">
                        <th mat-header-cell *matHeaderCellDef> Lebensmittel </th>
                        <td mat-cell *matCellDef="let element"> {{element.food}} </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>

                <h4>Notizen zum Rezept:</h4>
                <p>At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata
                    sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed
                    diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At
                    vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata
                    sanctus est Lorem ipsum dolor sit amet.</p>

            </ng-container>

            <mat-action-row>
                <button mat-button>Änderungen am Rezept speichern</button>
            </mat-action-row>

        </mat-expansion-panel>

    </mat-accordion>

</ng-container>

<!-- Loading Animation -->
<ng-template #loadingMeal>
    <h1 class="mat-h1">Daten werden geladen...</h1>
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
</ng-template>